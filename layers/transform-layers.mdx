---
title: "Transform Layers (3D Containers)"
description: "Complete guide to using transform layers to create 3D objects and gyro-responsive parallax effects."
---

Transform layers (`CATransformLayer`) are special containers that allow their sublayers to exist in a true 3D space. While regular layers "flatten" their children into a 2D plane, a Transform Layer maintains the relative 3D depth and rotations of everything inside it.

<Info>
  Transform layers are primarily used for building 3D objects (like cubes) and creating **Gyro Wallpaper** effects.
</Info>

---

## 2D vs. 3D Behavior

To understand why you need a Transform Layer, compare how sublayers behave:

| Feature | Standard Layer | Transform Layer |
| :--- | :--- | :--- |
| **Flattening** | Flattens all children into the layer's own plane. | Preserves the 3D position of children. |
| **Depth (Z)** | Sublayers render based on list order (stacking). | Sublayers render based on their actual `zPosition`. |
| **Perspective** | Children look like flat stickers on a card. | Children tilt and rotate with realistic 3D perspective. |

---

## Building in 3D

You can use a Transform Layer as a "3D Scene" to construct complex objects. For example, to make a **Cube**:

1.  **Add a Transform Layer**: This acts as the "root" of your 3D object.
2.  **Add Sublayers (Faces)**: Add six Basic Layers inside the Transform Layer.
3.  **Position the Faces**:
    *   **Front/Back**: Give them a `zPosition` (e.g., `50` and `-50`).
    *   **Sides**: Rotate them 90° on the Y-axis (`rotationY = 90`) and move them out.
    *   **Top/Bottom**: Rotate them 90° on the X-axis (`rotationX = 90`) and move them up/down.
4.  **Rotate the Container**: Rotate the Transform Layer itself to see your object from different angles.

<Tip>
  When building 3D objects, use the **Inspector > Geometry** tab to precisely set `Rotation X`, `Rotation Y`, and `zPosition`.
</Tip>

---

## Gyro Configuration

In wallpaper projects, Transform Layers are most commonly used to drive movement based on device tilt. These settings are found in the **Gyro** tab.

### Gyro Dictionaries
A dictionary defines how a specific axis of device tilt moves or rotates the layer.
1. Select the Transform Layer.
2. Click the **Gyro** tab in the Inspector.
3. Click **+ Add Dictionary**.
4. **Axis**: Choose **X** (left/right tilt) or **Y** (up/down tilt).
5. **Key Path**: Choose what to change.

#### Supported Key Paths

| Key Path | Effect | Recommended Axis |
| :--- | :--- | :--- |
| `position.x` | Slides layer horizontally. | Axis X |
| `position.y` | Slides layer vertically. | Axis Y |
| `transform.translation.x` | Same as position.x. | Axis X |
| `transform.rotation.x` | Tilts layer front/back (3D). | Axis Y |
| `transform.rotation.y` | Tilts layer left/right (3D). | Axis X |
| `transform.rotation.z` | Rotates layer clockwise. | Either |

6. **Map Min/Max**: Set the range of movement. For example, `-0.5` to `0.5` for rotation means the layer will tilt as you move your phone.

<Tip>
  **Pro Parallax:** Use `transform.rotation.x` and `transform.rotation.y` to create a realistic 3D tilting effect. This looks much more advanced than simple 2D sliding!
</Tip>

---

## Testing Gyro

You can simulate device tilt directly in the editor:

1. Click the **Toggle Gyro** button in the bottom-right corner of the canvas.
2. Use the **Gyro Controls** panel that appears.
3. Drag the knob in **Grid** view or tilt the virtual device in **Phone** view.
4. Click the **Recenter** icon to reset the position.

---

## Troubleshooting

### "My 3D object looks flat"
**Check:**
- Are your layers inside a **Transform Layer**? If they are inside a folder or a Basic Layer, they will be flattened.
- Did you set a **zPosition** or **Rotation X/Y** on the sublayers?

### "I don't see the Transform Layer option"
**Check:**
- Transform layers are specialized for gyro and 3D effects. Ensure your project has **Gyro** enabled in the project settings.

### "Nothing happens when I tilt"
**Check:**
- Did you add **Sublayers** inside the Transform Layer? 
- Did you add any **Gyro Dictionaries**?
- Are the **Map Min/Max** values larger than 0?

---

## Next Steps

<CardGroup cols={2}>
  <Card title="Layer Hierarchy" icon="sitemap" href="/editor/layer-hierarchy">
    Organize layers inside transform containers
  </Card>
  <Card title="Creating Animations" icon="play" href="/editor/creating-animations">
    Animate your 3D objects
  </Card>
</CardGroup>